(this["webpackJsonpfriend-list"]=this["webpackJsonpfriend-list"]||[]).push([[0],{17:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(4),r=n.n(s),c=(n(17),n(3)),o=n(2),d=(n(24),n(11)),u=n(5),f=function(e){return localStorage.getItem(e)||null},l=function(e){var t=f(e);try{return JSON.parse(t)}catch(n){return{}}},j=function(e,t){return localStorage.setItem(e,t)||null},h=function(e,t){j(e,JSON.stringify(t))},p="FETCH_LIST",g="ADD_FRIEND",v="ADD_TO_FAVOURITE",b="DELETE_FRIEND",O="SEARCH_FRIEND",m="SORT",x="PAGINATE",N="FAV",P="N_FAV",E="FRIENDS_LIST",S="LIST_ORDER",L=function(e,t){return t.sort((function(t,n){return e===P?t.fav>n.fav?1:-1:n.fav>t.fav?1:-1}))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!1,a=!1,i=4,s=(e-1)*i,r=s+i;if(t.length<i)return{hasPreviousPage:a,hasNextPage:n,paginatedList:t};var c=t.slice(s,r);return{hasPreviousPage:e>1,hasNextPage:t.length>r,paginatedList:c}},I=function(){var e=A.getState(),t=e.friends,n=t.page,a=t.order,i=l(E)||[],s=L(a,i),r=D(n,s),c=r.hasNextPage,o=r.hasPreviousPage,d=r.paginatedList;A.dispatch({type:p,data:{list:s,paginatedList:d,hasNextPage:c,hasPreviousPage:o,page:1}})},y={list:[],paginatedList:[],page:f("PAGE")||1,hasNextPage:!1,hasPreviousPage:!1,order:f(S)||P},A=Object(o.createStore)(Object(o.combineReducers)({friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:case g:case v:case b:case O:case x:case m:return Object(u.a)(Object(u.a)(Object(u.a)({},e),t.data),{},{list:t.data.list});default:return e}}}),Object(d.composeWithDevTools)()),R=(n(25),n(12)),T=n(1),F=function(e){var t=e.friend,n=Object(a.useState)(!1),i=Object(R.a)(n,2),s=i[0],r=i[1];return Object(T.jsxs)("div",{className:"list-item-container",children:[Object(T.jsx)("div",{className:"name",children:t.name}),Object(T.jsxs)("div",{className:"actions",children:[Object(T.jsx)("span",{className:"action",onClick:function(){!function(e){var t=l(E)||[],n=t.find((function(t){return t.id===e.id}));n.fav=!n.fav,h(E,t),A.dispatch({type:v,data:{list:t}})}(t)},children:t.fav?"\u2b50":"\u2606"}),Object(T.jsx)("span",{className:"action",onClick:function(){r(!0),setTimeout((function(){!function(e){var t=(l(E)||[]).filter((function(t){return t.id!==e.id}));h(E,t),I(E)}(t)}),1e3)},children:s?"\ud83e\udd7a":"\ud83d\uddd1\ufe0f"})]})]})},_=function(){var e=Object(a.useRef)(null),t=function(t){t.preventDefault(),function(e){var t=l(E)||[];t.push({name:e,fav:!1,id:t.length+1}),h(E,t),I(g)}(e.current.name.value),e.current.name.value=""};return Object(T.jsx)("form",{className:"form",onSubmit:t,ref:e,children:Object(T.jsx)("input",{type:"text",className:"input",name:"name",onKeyDown:function(e){"13"===e.which&&"Enter"===e.key&&t(e)},placeholder:"Enter your friend's name"})})},k=Object(c.b)((function(e){return{friends:e.friends}}),{})((function(e){var t=e.friends.page,n=function(e){var n=e.target.dataset.page;!function(e){if(!(e<=0)){var t=l(E)||[],n=f(S),a=L(n,t),i=D(e,a),s=i.hasNextPage,r=i.hasPreviousPage,c=i.paginatedList;A.dispatch({type:x,data:{page:e,hasNextPage:s,hasPreviousPage:r,paginatedList:c}})}}(parseInt(n)+t)};return Object(T.jsxs)("div",{className:"pagination-container",children:[e.friends.hasPreviousPage&&Object(T.jsx)("span",{className:"arrow left",onClick:n,"data-page":"-1",children:"\u25c0"}),e.friends.hasNextPage&&Object(T.jsx)("span",{className:"arrow right",onClick:n,"data-page":"1",children:"\u25b6"})]})})),w=Object(c.b)((function(e){return{friends:e.friends}}),{fetchList:I})((function(e){var t=e.friends;Object(a.useEffect)((function(){I()}),[]);return Object(T.jsxs)("div",{className:"list-container",children:[Object(T.jsxs)("div",{className:"heading",children:[Object(T.jsx)("span",{children:"Friends List"}),Object(T.jsx)("span",{className:"actions",onClick:function(){!function(){var e;e=A.getState().friends.order===N?P:N;var t=l(E)||[],n=L(e,t);h(E,n),j(S,e),A.dispatch({type:m,data:{order:e,page:1}}),I()}()},children:"\u2b50"})]}),Object(T.jsx)(_,{}),t.paginatedList.map((function(e){return Object(T.jsx)(F,{friend:e},e.id)})),Object(T.jsx)(k,{})]})}));var C=function(){return Object(T.jsx)(c.a,{store:A,children:Object(T.jsx)("div",{className:"App-container",children:Object(T.jsx)("div",{className:"App",children:Object(T.jsx)(w,{})})})})};r.a.render(Object(T.jsx)(i.a.StrictMode,{children:Object(T.jsx)(C,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.8603bc4a.chunk.js.map